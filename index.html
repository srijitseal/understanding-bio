import React from "react";
import { motion } from "framer-motion";
import { ArrowRight, ExternalLink, Github, Mail, MapPin, Award, School, BookOpen, Briefcase, Building2, Newspaper, Trophy, Layers, Linkedin } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";

// --- Helper Components ---
const Section = ({ id, title, subtitle, children }:{id:string; title:string; subtitle?:string; children:React.ReactNode}) => (
  <section id={id} className="scroll-mt-24 max-w-6xl mx-auto px-4 md:px-6 lg:px-8 py-12">
    <motion.div initial={{opacity:0, y:20}} whileInView={{opacity:1, y:0}} viewport={{once:true}} transition={{duration:0.5}}>
      <div className="mb-6">
        <h2 className="text-3xl md:text-4xl font-bold tracking-tight">{title}</h2>
        {subtitle && <p className="text-muted-foreground mt-2 max-w-3xl">{subtitle}</p>}
      </div>
      {children}
    </motion.div>
  </section>
);

const Pill = ({ children }:{children:React.ReactNode}) => (
  <span className="inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium bg-background/60 backdrop-blur border-border">{children}</span>
);

const TimelineItem = ({ when, where, title, description, icon:Icon = Briefcase }:{when:string; where?:string; title:string; description?:string; icon?: any}) => (
  <div className="relative pl-10 py-4">
    <div className="absolute left-0 top-6 w-8 flex justify-center">
      <div className="h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center">
        <Icon className="h-4 w-4 text-primary" />
      </div>
    </div>
    <div className="border-l pl-6">
      <div className="text-sm text-muted-foreground">{when}{where && <> Â· {where}</>}</div>
      <div className="font-semibold text-lg">{title}</div>
      {description && <div className="text-sm text-muted-foreground mt-1">{description}</div>}
    </div>
  </div>
);

const PublicationCard = ({ title, venue, year, authors, note }:{title:string; venue?:string; year?:string; authors?:string; note?:string}) => (
  <Card className="hover:shadow-xl transition-shadow">
    <CardHeader>
      <CardTitle className="text-lg leading-snug">{title}</CardTitle>
      <CardDescription>
        <div className="flex flex-wrap gap-2 items-center text-sm">
          {venue && <Pill>{venue}</Pill>}
          {year && <Pill>{year}</Pill>}
          {note && <Pill>{note}</Pill>}
        </div>
        {authors && <div className="mt-2 text-muted-foreground text-sm">{authors}</div>}
      </CardDescription>
    </CardHeader>
  </Card>
);

// --- Main Page ---
export default function SrijitSealSite(){
  return (
    <div className="min-h-screen bg-gradient-to-b from-background via-background to-background">
      {/* Sticky Nav */}
      <div className="sticky top-0 z-50 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b">
        <nav className="max-w-6xl mx-auto px-4 md:px-6 lg:px-8 h-16 flex items-center justify-between">
          <div className="flex items-center gap-2">
            <div className="h-6 w-6 rounded bg-primary" />
            <span className="font-semibold">Srijit Seal</span>
          </div>
          <div className="hidden md:flex items-center gap-6 text-sm">
            <a href="#about" className="hover:text-primary">About</a>
            <a href="#experience" className="hover:text-primary">Experience</a>
            <a href="#publications" className="hover:text-primary">Publications</a>
            <a href="#grants" className="hover:text-primary">Grants</a>
            <a href="#awards" className="hover:text-primary">Awards</a>
            <a href="#contact" className="hover:text-primary">Contact</a>
          </div>
          <div className="flex items-center gap-2">
            <Button asChild size="sm" variant="outline"><a href="#contact">Get in touch</a></Button>
          </div>
        </nav>
      </div>

      {/* Hero */}
      <header className="relative overflow-hidden">
        <div className="absolute inset-0 -z-10 bg-[radial-gradient(ellipse_at_top,theme(colors.primary/10),transparent_60%)]" />
        <div className="max-w-6xl mx-auto px-4 md:px-6 lg:px-8 py-16 md:py-24">
          <motion.div initial={{opacity:0, y:20}} animate={{opacity:1, y:0}} transition={{duration:0.6}} className="grid md:grid-cols-2 gap-10 items-center">
            <div>
              <div className="flex flex-wrap gap-2 mb-4">
                <Badge variant="secondary" className="text-xs"><Building2 className="h-3 w-3 mr-1"/> Merck Â· Senior Scientist (AI)</Badge>
                <Badge variant="secondary" className="text-xs"><School className="h-3 w-3 mr-1"/> Broad Institute Â· Postdoc alum</Badge>
                <Badge variant="secondary" className="text-xs"><School className="h-3 w-3 mr-1"/> University of Cambridge Â· PhD</Badge>
              </div>
              <h1 className="text-4xl md:text-6xl font-extrabold tracking-tight leading-tight">
                AI Ã— Drug Discovery Ã— <span className="text-primary">Safety</span>
              </h1>
              <p className="mt-4 text-lg text-muted-foreground max-w-xl">
                Srijit is a computational scientist working at the intersection of machine learning and
                drug discovery â€” specializing in Cell Painting, predictive toxicology, and model evaluation.
              </p>
              <div className="mt-6 flex flex-wrap gap-3">
                <Button asChild size="lg">
                  <a href="#publications">Explore publications <ArrowRight className="ml-2 h-4 w-4"/></a>
                </Button>
                <Button asChild size="lg" variant="outline">
                  <a href="#highlights">See highlights</a>
                </Button>
              </div>
              <div className="mt-6 flex flex-wrap gap-2 text-sm text-muted-foreground">
                <Pill><MapPin className="h-3 w-3 mr-1"/> Greater Philadelphia, USA</Pill>
                <Pill><Award className="h-3 w-3 mr-1"/> Board, ASCCT (2025â€“2027)</Pill>
                <Pill><Layers className="h-3 w-3 mr-1"/> Cell Painting Â· Toxicology Â· PK</Pill>
              </div>
            </div>
            <div className="md:justify-self-end">
              <Card className="md:w-[420px] md:h-[420px] rounded-2xl overflow-hidden">
                <CardContent className="p-0">
                  {/* Placeholder portrait / hero visual */}
                  <div className="h-[420px] w-full bg-gradient-to-br from-primary/30 via-muted to-background flex items-center justify-center">
                    <div className="text-center">
                      <div className="text-7xl">ðŸ§ª</div>
                      <div className="mt-2 text-muted-foreground">Computational Toxicology</div>
                    </div>
                  </div>
                </CardContent>
              </Card>
            </div>
          </motion.div>
        </div>
      </header>

      {/* Highlights */}
      <Section id="highlights" title="Highlights" subtitle="A snapshot of current roles, recognitions, and focal areas.">
        <div className="grid md:grid-cols-3 gap-6">
          <Card>
            <CardHeader>
              <CardTitle>Senior Scientist, Merck</CardTitle>
              <CardDescription>Computational Investigative Toxicology â€” Non-Clinical Safety</CardDescription>
            </CardHeader>
            <CardContent className="text-sm text-muted-foreground">2025 â€” present</CardContent>
          </Card>
          <Card>
            <CardHeader>
              <CardTitle>NIH Complement-ARIE Winner</CardTitle>
              <CardDescription>Exploring Omics for Liver Toxicity Assessment (~$50k)</CardDescription>
            </CardHeader>
            <CardContent className="text-sm text-muted-foreground">2024</CardContent>
          </Card>
          <Card>
            <CardHeader>
              <CardTitle>Editorial & Service</CardTitle>
              <CardDescription>Associate Editor Â· Reviewer across Nature/ACS/RSC journals</CardDescription>
            </CardHeader>
            <CardContent className="text-sm text-muted-foreground">Ongoing</CardContent>
          </Card>
        </div>
      </Section>

      {/* About */}
      <Section id="about" title="About">
        <div className="prose dark:prose-invert max-w-none">
          <p>
            Srijit has worked across the US, UK, Germany, Japan, and India, building AI systems that combine
            chemical structure, high-content imaging, and multi-omics to predict bioactivity and toxicity.
            His work emphasizes rigorous evaluation, out-of-distribution testing, and confounder-aware
            modeling to ensure reliable, translational insights.
          </p>
        </div>
      </Section>

      {/* Experience & Education */}
      <Section id="experience" title="Experience & Education" subtitle="Selected roles and training.">
        <div className="grid md:grid-cols-2 gap-8">
          <div>
            <h3 className="text-xl font-semibold mb-2 flex items-center gap-2"><Briefcase className="h-5 w-5"/> Experience</h3>
            <TimelineItem when="2025 â€” now" where="Merck, US" title="Senior Scientist (AI), Non-Clinical Safety" description="Computational Investigative Toxicology" />
            <TimelineItem when="2023 â€” 2024" where="Broad Institute" title="Postdoctoral Researcher" description="ML for Cell Painting to predict bioactivity and toxicity" icon={School} />
            <TimelineItem when="Consulting & Visiting" where="2022 â€” now" title="Multiple startups & academic visits" description="Chemoinformatics, agentic AI, and techbio advising" icon={Building2} />
          </div>
          <div>
            <h3 className="text-xl font-semibold mb-2 flex items-center gap-2"><School className="h-5 w-5"/> Education</h3>
            <TimelineItem when="2020 â€” 2024" where="University of Cambridge" title="PhD in Chemistry" description="Toxicity prediction from high-dimensional cell morphology" icon={School} />
            <TimelineItem when="2019 â€” 2020" where="University of Cambridge" title="MPhil in Chemistry" description="Deep learning for toxicity prediction (GNNs, NNs)" icon={School} />
            <TimelineItem when="2016 â€” 2019" where="St. Stephenâ€™s College, Delhi" title="BSc (Hons.) in Chemistry" description="University of Delhi" icon={School} />
          </div>
        </div>
      </Section>

      {/* Publications */}
      <Section id="publications" title="Selected Publications" subtitle="For the full list, get in touch or see ORCID.">
        <div className="grid md:grid-cols-2 gap-6">
          <PublicationCard title="Cell Painting: A decade of discovery and innovation in cellular imaging" venue="Nature Methods" year="2024" authors="*Seal S. et al." />
          <PublicationCard title="Insights into drug cardiotoxicity: the first public classifiers for FDA DICTrank" venue="J. Chem. Inf. Model." year="2024" authors="*Seal S. et al." />
          <PublicationCard title="Improved early detection of drug-induced liver injury by integrating predicted in vivo and in vitro data" venue="Chem. Res. Toxicol." year="2024" authors="Seal S. et al." />
          <PublicationCard title="From pixels to phenotypes: Integrating image-based profiling with cell health data" venue="Mol. Biol. Cell" year="2023" authors="Seal S. et al." />
          <PublicationCard title="Merging predictions from morphology and chemical fingerprints by leveraging similarity" venue="J. Cheminform." year="2023" authors="Seal S. et al." />
          <PublicationCard title="Machine Learning for Toxicity Prediction Using Chemical Structures: Pillars for Success in the Real World" venue="Chem. Res. Toxicol." year="2025" authors="*Seal S. et al." note="ACS Editorâ€™s Choice" />
        </div>
        <div className="mt-6">
          <Button asChild variant="outline">
            <a href="https://orcid.org/0000-0003-2790-8679" target="_blank" rel="noreferrer">
              View ORCID <ExternalLink className="ml-2 h-4 w-4"/>
            </a>
          </Button>
        </div>
      </Section>

      {/* Grants */}
      <Section id="grants" title="Grants & Funding" subtitle="Selected principal investigator awards.">
        <div className="grid md:grid-cols-2 gap-6">
          <Card>
            <CardHeader>
              <CardTitle>NIH Complement-ARIE Challenge</CardTitle>
              <CardDescription>Exploring Omics for Liver Toxicity Assessment (~$50k)</CardDescription>
            </CardHeader>
            <CardContent className="text-sm text-muted-foreground">2024 â€” Winner</CardContent>
          </Card>
          <Card>
            <CardHeader>
              <CardTitle>Schmidt Futures Accelerateâ€‘C2D3</CardTitle>
              <CardDescription>Theoretical & philosophical perspectives on biology & AI (~$18k)</CardDescription>
            </CardHeader>
            <CardContent className="text-sm text-muted-foreground">2022 â€” PI</CardContent>
          </Card>
        </div>
      </Section>

      {/* Awards */}
      <Section id="awards" title="Honors & Awards" subtitle="A few highlights from a longer list.">
        <div className="grid md:grid-cols-3 gap-6">
          <Card>
            <CardHeader>
              <CardTitle>Global Talent (UK)</CardTitle>
              <CardDescription>Endorsed by Royal Society (2025â€“2030)</CardDescription>
            </CardHeader>
            <CardContent className="text-sm text-muted-foreground">Recognition</CardContent>
          </Card>
          <Card>
            <CardHeader>
              <CardTitle>ASCCT Board of Directors</CardTitle>
              <CardDescription>American Society for Cellular & Computational Toxicology</CardDescription>
            </CardHeader>
            <CardContent className="text-sm text-muted-foreground">2025â€“2027</CardContent>
          </Card>
          <Card>
            <CardHeader>
              <CardTitle>Multiple Travel & Research Grants</CardTitle>
              <CardDescription>RSC, Clare Hall, BTS/SOT honors and awards</CardDescription>
            </CardHeader>
            <CardContent className="text-sm text-muted-foreground">Ongoing</CardContent>
          </Card>
        </div>
      </Section>

      {/* Service */}
      <Section id="service" title="Editorial & Community Service" subtitle="Associate Editor and reviewer across top journals; conference organization and academic governance.">
        <div className="grid md:grid-cols-2 gap-6">
          <Card>
            <CardHeader>
              <CardTitle>Associate Editor</CardTitle>
              <CardDescription>Frontiers in Medicine</CardDescription>
            </CardHeader>
          </Card>
          <Card>
            <CardHeader>
              <CardTitle>Reviewer</CardTitle>
              <CardDescription>Nature family, ACS, RSC, Patterns, SLAS, ALTEX, and more</CardDescription>
            </CardHeader>
          </Card>
        </div>
      </Section>

      {/* CTA */}
      <Section id="contact" title="Get in Touch" subtitle="Speaking invitations, collaborations, and advisory.">
        <div className="grid md:grid-cols-3 gap-4 max-w-4xl">
          <Button asChild variant="default" className="justify-start"><a href="mailto:srijit@understanding.bio"><Mail className="h-4 w-4 mr-2"/> Email</a></Button>
          <Button asChild variant="outline" className="justify-start"><a href="https://www.linkedin.com/in/srijitseal" target="_blank" rel="noreferrer"><Linkedin className="h-4 w-4 mr-2"/> LinkedIn</a></Button>
          <Button asChild variant="outline" className="justify-start"><a href="https://github.com/srijitseal" target="_blank" rel="noreferrer"><Github className="h-4 w-4 mr-2"/> GitHub</a></Button>
        </div>
        <div className="mt-6 text-sm text-muted-foreground">
          Need a print CV? <a className="underline underline-offset-4 hover:text-primary" href="https://www.srijitseal.com/CV" onClick={(e)=>{e.preventDefault(); alert('Link the CV PDF in production.');}}>Download CV (PDF)</a>
        </div>
      </Section>

      {/* Footer */}
      <footer className="border-t">
        <div className="max-w-6xl mx-auto px-4 md:px-6 lg:px-8 py-8 text-sm text-muted-foreground flex flex-col md:flex-row items-center justify-between gap-2">
          <div>Â© {new Date().getFullYear()} Srijit Seal</div>
          <div className="flex items-center gap-4">
            <a className="hover:text-primary" href="#about">About</a>
            <a className="hover:text-primary" href="#publications">Publications</a>
            <a className="hover:text-primary" href="#contact">Contact</a>
          </div>
        </div>
      </footer>
    </div>
  );
}
